var K=Object.defineProperty;var r=(f,y)=>K(f,"name",{value:y,configurable:!0});import{Q as q}from"./stories.settings-7ac24d87.js";import{r as i,R as B}from"./index-d23035ce.js";import{a as G}from"./TextField-203da87d.js";import"./TextArea-4e125d57.js";import"./DefinitionList-850b66f5.js";import{F as S}from"./FunctionalList-3d217ebd.js";import{j as p}from"./jsx-runtime-bb315772.js";import{L as I}from"./ListItem-3aa94e1f.js";import"./Icon-fde9928b.js";import"./Avatar-a0dce5e3.js";import"./Checkbox-d28d43fa.js";import{F as H}from"./Flyout-2219970d.js";import"./es.object.get-own-property-descriptor-89e834e9.js";import"./dom.utils-1db2b487.js";import"./layout.settings-9902fce9.js";import"./input.renders-700890b4.js";import"./settings-dbf1bcd4.js";import"./log.utils-f56af116.js";import"./index-8eee599f.js";function _({id:f,label:y,items:a,name:m,inputValue:h,value:o,onInputChange:v,onChange:d,noResultsText:k,qa:F}){const[C,u]=i.exports.useState(!1),[s,E]=i.exports.useState(a),[L,D]=i.exports.useState(h||""),[O,R]=i.exports.useState(o||""),[n,g]=i.exports.useState(-1),l=h||h===""?h:L,b=o||o===""?o:O,x=B.useRef(null);i.exports.useEffect(()=>{o&&w(o,!0)},[o]),i.exports.useEffect(()=>{E((a||[]).filter(e=>{var t;return l?(t=e.label)==null?void 0:t.toLowerCase().includes(l.toLowerCase()):!0}))},[l]),i.exports.useEffect(()=>{if(x.current){const t=x.current.querySelector(`.a-list__item:nth-child(${n+1})`);t==null||t.scrollIntoView({block:"nearest",inline:"nearest"})}},[n]);const P=r(e=>{u(e)},"handleStateChange"),A=r(()=>{u(!1),g(-1)},"closeFlyout"),T=r(e=>{D(e),u(!0),b&&!e&&(R(""),d&&d("",m)),v&&v(e,m)},"handleInput"),w=r((e,t=!1)=>{if(o!==""&&(!o||o===e)){const c=a==null?void 0:a.find(j=>j.value===e);T((c==null?void 0:c.label)||""),R((c==null?void 0:c.value)||""),A()}!t&&d&&d(e,m)},"selectValue"),M=r(()=>{const e=a==null?void 0:a.find(t=>t.value===b);e&&(l!=null&&l.length)&&e.label!==l&&T(e.label),A()},"setValueBack"),V=r(()=>{const e=s&&s[n];e&&w(e.value)},"onEnter");return p(H,{scrollable:!0,hasPadding:!1,qa:F,trigger:p(G,{id:f,name:m,label:y,onBlur:M,value:l,onChange:e=>T(e.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":C,onKeyDown:r(e=>{const t=(s==null?void 0:s.length)||0;switch(e.key){case"ArrowDown":return g(n===-1?0:(n+1)%t),u(!0);case"ArrowUp":return g(n===-1||n-1<0?t-1:n-1),u(!0);case"Enter":return V();case"Escape":return A()}},"handleKeyDown")}),ref:x,open:C,onStateChange:P,children:s&&s.length?p(S,{lined:!0,onItemClick:w,children:s.map((e,t)=>p(I,{id:e.value,tabIndex:-1,highlighted:t===n,onMouseDown:c=>c.preventDefault(),active:e.value===b,name:e.value,link:{href:""},children:e.label},e.value))}):p(S,{lined:!0,children:p(I,{id:"aui-autocomplete-no-results",children:p("small",{children:k})})})})}r(_,"Autocomplete");_.defaultProps={id:"aui-autocomplete",noResultsText:"Geen resultaten"};const ue={title:"React/Molecules/Autocomplete",component:_,parameters:{docs:{description:{component:"The `Autocomplete` component is a normal text input enhanced by a pannel of filtered suggestions."}}},args:{name:"aui-autocomplete",items:[{label:"Acadia",value:"1"},{label:"American Samoa",value:"2"},{label:"Arches",value:"3"},{label:"Canyonlands",value:"4"},{label:"Capitol Reef",value:"5"}],label:"National Parks",noResultsText:"Sorry, niet gevonden"},argTypes:{name:{control:{type:"text"},table:{type:{summary:"string"}},description:"The `name` prop; is set on the `input` HTML element of the `Autocomplete` component. It is also returned by `onChange` and `onInputChange` to identify the component."},items:{control:{type:"array"},table:{type:{summary:"array"},defaultValue:{summary:"[]"}},description:'The `items` prop control the results from the dropdown in the `Autocomplete` component. These `items` are objects in the format of `{ label: "", value: "" }`.'},label:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"The label of the `Autocomplete` component."},noResultsText:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Geen resultaten"}},description:"The text when no item match the provided search term."},inputValue:{table:{type:{summary:"string"}},description:"The `inputValue` prop controls the value of the `Autocomplete` input field. This prop makes the `Autocomplete` a controlled component and should be used together with `onInputChange`."},value:{table:{type:{summary:"string"}},description:"The `value` prop controls the value of the selected `Autocomplete` item. This prop makes the `Autocomplete` a controlled component and should be used together with `onChange`."},id:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"aui-autocomplete"}},description:"The `id` prop; set on the `input` HTML element of the `Autocomplete` component."},onChange:{control:{type:"function"},table:{type:{summary:" function"}},action:"onChange",description:"Function triggered when selecting an option from the `Autocomplete` dropdown. The first parameter of this function is the selected value, the second parameter is the `name` of the `Autocomplete` component."},onInputChange:{control:{type:"function"},table:{type:{summary:" function"}},action:"onInputChange",description:"Function triggered when the input field value changes. The first parameter of this function is the input, the second parameter is the given component name."},qa:q}},me="",he=["autocomplete"];export{he as __namedExportsOrder,me as autocomplete,ue as default};
//# sourceMappingURL=Autocomplete.stories-65398dd6.js.map
