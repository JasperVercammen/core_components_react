{"version":3,"file":"Icon-26da32f2.js","sources":["../../../../packages/antwerp-ui/react-components/src/utils/file.utils.ts","../../../../packages/antwerp-ui/react-components/src/lib/base/icon/Icon.tsx"],"sourcesContent":["import { logWarning } from './log.utils';\n\nconst MB = 1048576;\n\nexport function hasValidFormat(file: File, acceptedFormat?: string): boolean {\n  return (\n    !acceptedFormat ||\n    acceptedFormat === '*' ||\n    acceptedFormat === file.type ||\n    (acceptedFormat?.includes('*') &&\n      !!acceptedFormat?.split('/')?.[0] &&\n      file.type.startsWith(acceptedFormat?.split('/')?.[0]))\n  );\n}\n\nexport function hasValidSize(file: File, maxSize?: number): boolean {\n  return !maxSize || file.size <= maxSize * MB;\n}\n\nexport function areFilesValid(\n  files: File[],\n  acceptedFormat?: string,\n  maxSize?: number\n): { validSize: boolean; validFormat: boolean }[] {\n  return files.map((f) => ({ validFormat: hasValidFormat(f, acceptedFormat), validSize: hasValidSize(f, maxSize) }));\n}\n\nexport function invalidIcon(icon: SVGGraphicsElement): boolean {\n  const { width, height } = icon.getBBox();\n  return width === 0 && height === 0;\n}\n","import { IconProps } from './Icon.types';\nimport { ICONS_URL, SCREEN_READER_CLASS } from '../../../constants/settings';\nimport { classNames } from '../../../utils/dom.utils';\nimport { invalidIcon } from '../../../utils/file.utils';\nimport { logWarning } from '../../../utils/log.utils';\n\nconst ICONS_SVG_HTML_ID = 'ai-svg';\n\nexport function Icon({ name, screenReaderText, thin, qa }: IconProps) {\n  const fetchIcons = async function () {\n    if (!fetch) return null;\n    const response = await fetch(ICONS_URL);\n    const svgText = await response.text();\n    const svgWrapper = document.createElement('svg');\n    svgWrapper.id = ICONS_SVG_HTML_ID;\n    svgWrapper.innerHTML = svgText;\n    if (!document.getElementById(ICONS_SVG_HTML_ID)) {\n      document.body.appendChild(svgWrapper);\n    }\n    queryIcons()?.forEach((icon) => {\n      if (invalidIcon(icon)) {\n        logWarning(\n          `The provided icon with name \"${name}\" does not seem to exist. Please make sure the 'name' is correct`\n        );\n      }\n    });\n  };\n\n  const queryIcons = () => {\n    return Array.from(document.querySelectorAll(`.ai-${name.replace('ai-', '')} use`)) as SVGGraphicsElement[];\n  };\n\n  if (typeof document !== 'undefined' && !document.getElementById(ICONS_SVG_HTML_ID)) {\n    fetchIcons();\n  }\n\n  const classes = classNames({\n    ai: true,\n    [`ai-${name?.replace('ai-', '')}`]: !!name,\n    'ai--thin': !!thin\n  });\n\n  return (\n    <span className={classes} data-qa={qa}>\n      {name ? (\n        <svg aria-hidden=\"true\">\n          <use href={`#ai-${name.replace('ai-', '')}`} />\n        </svg>\n      ) : null}\n      {!!screenReaderText && <span className={SCREEN_READER_CLASS}>{screenReaderText}</span>}\n    </span>\n  );\n}\n\nexport default Icon;\n"],"names":["MB","hasValidFormat","file","acceptedFormat","_a","_b","__name","hasValidSize","maxSize","areFilesValid","files","f","invalidIcon","icon","width","height","ICONS_SVG_HTML_ID","Icon","name","screenReaderText","thin","qa","fetchIcons","fetch","svgText","ICONS_URL","text","svgWrapper","document","createElement","id","innerHTML","getElementById","body","appendChild","queryIcons","forEach","logWarning","Array","from","querySelectorAll","replace","classes","classNames","ai","_jsx","SCREEN_READER_CLASS"],"mappings":"8QAEA,MAAMA,EAAK,QAEK,SAAAC,EAAeC,EAAYC,EAAkC,SAEzE,MAAA,CAACA,GACDA,IAAmB,KACnBA,IAAmBD,EAAK,OACvBC,GAAA,YAAAA,EAAgB,SAAS,OACxB,CAAC,GAACC,EAAAD,GAAA,YAAAA,EAAgB,MAAM,OAAtB,MAAAC,EAA6B,KAC/BF,EAAK,KAAK,YAAWG,EAAAF,GAAA,YAAAA,EAAgB,MAAM,OAAtB,YAAAE,EAA6B,EAAE,CAE1D,CATgBC,EAAAL,EAAA,kBAWA,SAAAM,EAAaL,EAAYM,EAA2B,CAClE,MAAO,CAACA,GAAWN,EAAK,MAAQM,EAAUR,CAC5C,CAFgBM,EAAAC,EAAA,gBAIA,SAAAE,EACdC,EACAP,EACAK,EACgD,CAChD,OAAOE,EAAM,IAAKC,IAAO,CAAE,YAAaV,EAAeU,EAAGR,CAAc,EAAG,UAAWI,EAAaI,EAAGH,CAAO,CAAI,EAAA,CACnH,CANgBF,EAAAG,EAAA,iBAQT,SAASG,EAAYC,EAAmC,CAC7D,KAAM,CAAE,MAAAC,EAAO,OAAAC,CAAO,EAAIF,EAAK,QAAQ,EAChC,OAAAC,IAAU,GAAKC,IAAW,CACnC,CAHgBT,EAAAM,EAAA,eCrBhB,MAAMI,EAAoB,SAEnB,SAASC,EAAK,CAAEC,KAAAA,EAAMC,iBAAAA,EAAkBC,KAAAA,EAAMC,GAAAA,CAAc,EAAG,CACpE,MAAMC,EAAahB,EAAA,gBAAkB,OACnC,GAAI,CAACiB,MAAc,OAAA,KAEbC,MAAAA,EAAU,MADC,MAAMD,MAAME,CAAS,GACPC,OACzBC,EAAaC,SAASC,cAAc,KAAK,EAC/CF,EAAWG,GAAKd,EAChBW,EAAWI,UAAYP,EAClBI,SAASI,eAAehB,CAAiB,GACnCiB,SAAAA,KAAKC,YAAYP,CAAU,GAE1BvB,EAAA+B,EAAA,IAAA,MAAA/B,EAAEgC,QAAkBvB,GAAA,CAC1BD,EAAYC,CAAI,GAClBwB,EACG,gCAA+BnB,mEAAsE,CAE1G,EACD,EAhBgB,cAmBbiB,EAAa7B,EAAA,IACVgC,MAAMC,KAAKX,SAASY,iBAAkB,OAAMtB,EAAKuB,QAAQ,MAAO,EAAE,OAAO,CAAC,EADhE,cAIf,OAAOb,SAAa,KAAe,CAACA,SAASI,eAAehB,CAAiB,GACnEM,IAGd,MAAMoB,EAAUC,EAAW,CACzBC,GAAI,GACJ,CAAE,MAAK1B,GAAAA,YAAAA,EAAMuB,QAAQ,MAAO,OAAQ,CAAC,CAACvB,EACtC,WAAY,CAAC,CAACE,CAAAA,CACf,EAED,SACE,OAAA,CAAM,UAAWsB,EAAS,UAASrB,EAAG,SAAA,CACnCH,EACC2B,EAAA,MAAA,CAAK,cAAY,OAAM,WACrB,MAAA,CAAK,KAAO,OAAM3B,EAAKuB,QAAQ,MAAO,EAAE,GAAA,CAAI,CAAG,CAAA,EAE/C,KACH,CAAC,CAACtB,KAAoB,OAAA,CAAM,UAAW2B,EAAoB,SAAE3B,CAAAA,CAAwB,CAAA,CAAA,CACjF,CAEX,CA5CgBF,EAAAA,EAAAA"}